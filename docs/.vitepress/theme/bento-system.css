/**
 * SOFA Bento Grid System
 * Tailwind CSS implementation for VitePress
 * 
 * Based on the VitePressRedesign specifications
 * Supports 1→2→3 column responsive grid with equal height cards
 */

/* ===== BASE GRID SYSTEM ===== */

.bento-grid {
  @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16 items-stretch;
  /* Ensure the grid itself is centered within its container */
  margin: 0 auto !important;
  max-width: 100% !important;
  width: 100% !important;
  justify-self: center !important;
}

.bento-grid-section {
  @apply mb-16;
}

/* Ensure dashboard bento grid is always centered */
.dashboard-container .bento-grid {
  margin: 0 auto !important;
  max-width: 100% !important;
  width: 100% !important;
  display: grid !important;
  grid-template-columns: repeat(1, 1fr) !important;
}

@media (min-width: 768px) {
  .dashboard-container .bento-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

@media (min-width: 1024px) {
  .dashboard-container .bento-grid {
    grid-template-columns: repeat(3, 1fr) !important;
  }
}

/* ===== CARD STRUCTURE ===== */

/* Card backgrounds with proper contrast ratios */
.bento-card {
  @apply bg-white dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700/50 
         rounded-xl hover:border-gray-300 dark:hover:border-slate-600/60 
         transition-colors duration-150 h-full;
  backdrop-filter: blur(10px);
}

.bento-card-content {
  @apply p-6 h-full flex flex-col;
}

.bento-card-header {
  @apply flex items-center gap-3 mb-4;
  align-items: center !important;
}

.bento-card-icon {
  @apply w-7 h-7 rounded-md flex items-center justify-center flex-shrink-0;
}

/* Dark mode adjustments for consistent theme */
.dark .bento-card {
  background: rgba(30, 41, 59, 0.5);
  border-color: rgba(51, 65, 85, 0.5);
}

.dark .bento-card:hover {
  background: rgba(30, 41, 59, 0.7);
  border-color: rgba(71, 85, 105, 0.6);
}

.bento-card-title {
  @apply font-semibold text-gray-900 dark:text-white text-sm flex-shrink-0;
}

/* Reset h3 default styles for bento titles */
h3.bento-card-title {
  margin: 0;
  font-size: inherit;
  line-height: inherit;
}

.bento-card-body {
  @apply space-y-3 flex-grow;
}

/* ===== PLATFORM-SPECIFIC COLORS ===== */

/* macOS/iOS (Blue Theme) */
.bento-macos {
  /* Remove platform-specific hover colors */
}

.bento-macos .bento-card-icon {
  @apply bg-blue-50 dark:bg-blue-900/30;
}

.bento-macos .bento-card-icon svg {
  @apply text-blue-600 dark:text-blue-400;
}

.bento-ios {
  /* Remove platform-specific hover colors */
}

.bento-ios .bento-card-icon {
  @apply bg-purple-50 dark:bg-purple-900/30;
}

.bento-ios .bento-card-icon svg {
  @apply text-purple-600 dark:text-purple-400;
}

/* Other Platforms (Green Theme) */
.bento-watchos, .bento-tvos, .bento-visionos {
  /* Remove platform-specific hover colors */
}

.bento-watchos .bento-card-icon, 
.bento-tvos .bento-card-icon, 
.bento-visionos .bento-card-icon {
  @apply bg-green-50 dark:bg-green-900/50;
}

.bento-watchos .bento-card-icon svg, 
.bento-tvos .bento-card-icon svg, 
.bento-visionos .bento-card-icon svg {
  @apply text-green-600 dark:text-green-400;
}

/* Safari (Orange Theme) */
.bento-safari {
  /* Remove platform-specific hover colors */
}

.bento-safari .bento-card-icon {
  @apply bg-orange-50 dark:bg-orange-900/50;
}

.bento-safari .bento-card-icon svg {
  @apply text-orange-600 dark:text-orange-400;
}

/* Community (Indigo Theme) */
.bento-community {
  /* Remove platform-specific hover colors */
}

.bento-community .bento-card-icon {
  @apply bg-indigo-50 dark:bg-indigo-900/50;
}

.bento-community .bento-card-icon svg {
  @apply text-indigo-600 dark:text-indigo-400;
}

/* ===== SPECIAL GRADIENT VARIANTS ===== */

.bento-quickboard {
  @apply bg-white dark:bg-gray-900 
         border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700;
}

.bento-quickboard .bento-card-icon {
  @apply bg-emerald-50 dark:bg-emerald-900/50;
}

.bento-quickboard .bento-card-icon svg {
  @apply text-emerald-600 dark:text-emerald-400;
}

.bento-statistics {
  @apply bg-white dark:bg-slate-800/50 
         border-gray-200 dark:border-slate-700/50 hover:border-gray-300 dark:hover:border-slate-600/60;
  backdrop-filter: blur(10px);
}

.bento-statistics .bento-card-icon {
  @apply bg-emerald-50 dark:bg-emerald-900/50;
}

.bento-statistics .bento-card-icon svg {
  @apply text-emerald-600 dark:text-emerald-400;
}

.bento-beta-gradient {
  @apply bg-white dark:bg-slate-800/50 
         border-gray-200 dark:border-slate-700/50 hover:border-gray-300 dark:hover:border-slate-600/60;
  backdrop-filter: blur(10px);
}

.bento-beta-gradient .bento-card-icon {
  @apply bg-orange-50 dark:bg-orange-900/30;
}

.bento-beta-gradient .bento-card-icon svg {
  @apply text-orange-600 dark:text-orange-400;
}

.bento-community-gradient {
  @apply bg-white dark:bg-slate-800/50 
         border-gray-200 dark:border-slate-700/50 hover:border-gray-300 dark:hover:border-slate-600/60;
  backdrop-filter: blur(10px);
}

.bento-community-gradient .bento-card-icon {
  @apply bg-indigo-50 dark:bg-indigo-900/30;
}

.bento-community-gradient .bento-card-icon svg {
  @apply text-indigo-600 dark:text-indigo-400;
}

/* Data Feed Colors */
.bento-feed-macos {
  /* Remove platform-specific hover colors */
}

.bento-feed-macos .bento-card-icon {
  @apply bg-cyan-50 dark:bg-cyan-900/30;
}

.bento-feed-macos .bento-card-icon svg {
  @apply text-cyan-600 dark:text-cyan-400;
}

.bento-feed-ios {
  /* Remove platform-specific hover colors */
}

.bento-feed-ios .bento-card-icon {
  @apply bg-blue-50 dark:bg-blue-900/30;
}

.bento-feed-ios .bento-card-icon svg {
  @apply text-blue-600 dark:text-blue-400;
}

/* ===== INTERACTIVE ELEMENTS ===== */

/* Button with accessible contrast */
.bento-button {
  @apply w-full text-left p-3.5 rounded-lg transition-all duration-150 text-sm cursor-pointer 
         bg-gray-50 dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700/50
         hover:border-gray-300 dark:hover:border-slate-600/60
         text-gray-900 dark:text-gray-100;
  backdrop-filter: blur(10px);
}

.dark .bento-button {
  background: rgba(30, 41, 59, 0.5);
  border-color: rgba(51, 65, 85, 0.5);
}

.dark .bento-button:hover {
  background: rgba(30, 41, 59, 0.7);
  border-color: rgba(71, 85, 105, 0.6);
}

/* Remove all platform-specific button hover colors for consistency */
.bento-button-macos,
.bento-button-ios,
.bento-button-green,
.bento-button-orange,
.bento-button-emerald {
  /* Use default button styling */
}

/* Copy URL Buttons */
.bento-copy-url {
  @apply flex items-center gap-1 px-2 py-1 text-gray-400 hover:bg-opacity-20 rounded transition-colors;
}

.bento-copy-url-macos {
  @apply hover:text-cyan-600 dark:hover:text-cyan-400 hover:bg-cyan-50 dark:hover:bg-cyan-900/20;
}

.bento-copy-url-ios {
  @apply hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20;
}

/* ===== VERSION DISPLAY ===== */

.bento-version-entry {
  @apply flex items-center justify-between text-sm mb-2;
}

.bento-version-label {
  @apply font-semibold text-gray-900 dark:text-white flex-shrink-0;
}

.bento-version-info {
  @apply flex items-center gap-2;
}

.bento-version-details {
  @apply text-sm text-gray-700 dark:text-gray-300 space-y-1 mt-1;
}

/* ===== UTILITY CLASSES ===== */

.bento-security-shield {
  @apply h-3.5 w-3.5 text-gray-600 dark:text-gray-400;
}

.bento-timestamp {
  @apply text-xs text-gray-700 dark:text-gray-300 font-mono leading-relaxed;
}

.bento-badge-tbd {
  @apply text-xs px-2 py-0 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-700;
}

/* ===== ANIMATIONS ===== */

.bento-fade-in {
  animation: fadeIn 0.6s ease-out;
}

@keyframes fadeIn {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

.bento-hover-target {
  /* Removed hover scale effect */
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */

@media (max-width: 768px) {
  .bento-card-content {
    @apply p-4;
  }
  
  .bento-card-title {
    @apply text-sm;
  }
  
  .bento-card-header {
    @apply gap-2 mb-3;
  }
  
  .bento-card-icon {
    @apply w-7 h-7;
  }
  
  .bento-card-body {
    @apply space-y-2;
  }
  
  .bento-version-entry {
    @apply text-xs mb-1;
  }
  
  .bento-version-details {
    @apply text-xs;
  }
  
  .bento-button {
    @apply p-2 text-xs;
  }
}

/* ===== LATEST FEATURES BENTO STYLES ===== */

/* Info displays for version information */
.bento-info-display {
  @apply text-sm text-gray-600 dark:text-gray-400 space-y-2;
}

.bento-info-item {
  @apply flex justify-between items-start;
}

.bento-info-label {
  @apply font-medium text-gray-800 dark:text-gray-200;
}

.bento-info-value {
  @apply text-right text-gray-600 dark:text-gray-400;
}

/* Deferral table styling */
.bento-deferral-table {
  @apply w-full text-sm;
}

.bento-deferral-table th {
  @apply text-left font-medium text-gray-800 dark:text-gray-200 pb-2 border-b border-gray-200 dark:border-gray-700;
}

.bento-deferral-table td {
  @apply py-2 text-gray-600 dark:text-gray-400 border-b border-gray-100 dark:border-gray-800;
}

.bento-deferral-table tr:last-child td {
  @apply border-b-0;
}

/* XProtect item styling */
.bento-xprotect-item {
  @apply flex justify-between items-start py-2 border-b border-gray-100 dark:border-gray-800 last:border-b-0;
}

.bento-xprotect-name {
  @apply font-medium text-gray-800 dark:text-gray-200;
}

.bento-xprotect-version {
  @apply text-sm text-gray-600 dark:text-gray-400;
}

/* Resource links styling */
.bento-resource-link {
  @apply block p-3 rounded-lg bg-white/30 dark:bg-gray-700/30 border border-gray-100 dark:border-gray-600/50 
         hover:bg-white/60 dark:hover:bg-gray-700/60 hover:border-gray-200 dark:hover:border-gray-600 
         transition-all duration-200 text-sm text-gray-800 dark:text-gray-200 no-underline mb-2;
}

.bento-resource-link:hover {
  @apply text-gray-900 dark:text-white;
}

/* Resource section headers */
.bento-info-display h4 {
  @apply text-sm font-semibold text-gray-900 dark:text-gray-100 mt-4 mb-2 first:mt-0;
}

/* OS image container for bento layout */
.os-image-container {
  @apply flex justify-center mb-3;
}

.os-image {
  @apply w-12 h-12 rounded-lg;
}

/* Version display styling for deferral controls */
.deferral-controls {
  @apply flex justify-between items-center mb-4 flex-wrap gap-3;
}

.version-display {
  @apply flex items-center gap-2;
}

.version-label {
  @apply text-sm font-medium text-gray-600 dark:text-gray-400;
}

.version-value {
  @apply text-sm font-semibold text-gray-900 dark:text-gray-100;
}

/* Button group styling */
.button-group {
  @apply flex border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden;
}

.button-group button {
  @apply px-3 py-1.5 text-sm font-medium bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 
         border-r border-gray-200 dark:border-gray-600 last:border-r-0 hover:bg-gray-50 dark:hover:bg-gray-700 
         transition-colors duration-200;
}

.button-group button.active {
  @apply bg-blue-600 text-white hover:bg-blue-700;
}

.button-group button:disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* XProtect meta styling */
.xprotect-meta {
  @apply mt-2 pt-2 border-t border-gray-200 dark:border-gray-700;
}

.meta-text {
  @apply text-xs text-gray-500 dark:text-gray-400;
}

/* Security Info bento styling */
.bento-card-title-section {
  @apply flex-grow;
}

.bento-card-title-section .bento-card-title {
  @apply text-base font-semibold text-gray-900 dark:text-white mb-1;
}

.release-date {
  @apply text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1;
}

.warning-icon {
  @apply text-sm;
}

.expand-icon {
  @apply text-xl font-light text-gray-500 dark:text-gray-400 cursor-pointer ml-4;
}

/* CVE list styling for bento cards */
.cve-list {
  @apply flex flex-wrap gap-2 mt-2;
}

.cve-link {
  @apply inline-flex items-center px-2 py-1 text-xs font-mono bg-blue-50 dark:bg-blue-900/30 
         border border-blue-200 dark:border-blue-800 rounded text-blue-700 dark:text-blue-300 
         hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors duration-200 no-underline;
}

.cve-link.exploited {
  @apply bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800 
         text-red-700 dark:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/50;
}

/* ===== CUSTOM PROPERTIES FOR THEMING ===== */

:root {
  --bento-primary-blue: hsl(217, 91%, 60%);
  --bento-primary-green: hsl(142, 76%, 36%);
  --bento-primary-orange: hsl(24, 95%, 53%);
  --bento-emerald: hsl(155, 76%, 36%);
  --bento-indigo: hsl(231, 48%, 48%);
}

/* Dark mode adjustments */
.dark {
  --bento-primary-blue: hsl(217, 91%, 70%);
  --bento-primary-green: hsl(142, 76%, 46%);
  --bento-primary-orange: hsl(24, 95%, 63%);
  --bento-emerald: hsl(155, 76%, 46%);
  --bento-indigo: hsl(231, 48%, 58%);
}